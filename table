import sqlite3

connection = sqlite3.connect('koopteh.db')
cursor = connection.cursor()

cursor.execute('''
CREATE TABLE IF NOT EXISTS Преподаватели (
    id INTEGER PRIMARY KEY,
    ФИО TEXT NOT NULL,
    email TEXT NOT NULL,
    num INTEGER,
    специальность TEXT NOT NULL
)
''')

cursor.execute('''
CREATE TABLE IF NOT EXISTS Студенты (
    id INTEGER PRIMARY KEY,
    ФИО TEXT NOT NULL,
    группа TEXT NOT NULL,
    курс INTEGER,
    специальность TEXT NOT NULL,
    год_рождения INTEGER
)
''')

# Преподаватели
cursor.execute('INSERT INTO Преподаватели (ФИО, email, num, специальность) VALUES (?, ?, ?, ?)', ('Любирцев Р. Е.', 'fafsfa7@example.com', 2342342342, 'ОБЖ'))
cursor.execute('INSERT INTO Преподаватели (ФИО, email, num, специальность) VALUES (?, ?, ?, ?)', ('Деведьярова З. А.', 'adadaswd@example.com', 253542342, 'Матема'))
cursor.execute('INSERT INTO Преподаватели (ФИО, email, num, специальность) VALUES (?, ?, ?, ?)', ('Щуклин Щ. Щ.', 'asfasf@example.com', 23423423423, 'Физ-ра'))
cursor.execute('INSERT INTO Преподаватели (ФИО, email, num, специальность) VALUES (?, ?, ?, ?)', ('Марзлик Г. К.', 'fdgdfggdf@example.com', 2342334553, 'Физика'))
cursor.execute('INSERT INTO Преподаватели (ФИО, email, num, специальность) VALUES (?, ?, ?, ?)', ('Зуклин Н. О.', 'asdasdaca@example.com', 3453453455, 'Русский'))

cursor.execute('CREATE INDEX IF NOT EXISTS idx_email ON Преподаватели (email)')

# Студенты
cursor.execute('INSERT INTO Студенты (ФИО, группа, курс, специальность, год_рождения) VALUES (?, ?, ?, ?, ?)', ('Карманов Щ.Щ.', 'ИСП-23', 2, 'ИСП', 2006))
cursor.execute('INSERT INTO Студенты (ФИО, группа, курс, специальность, год_рождения) VALUES (?, ?, ?, ?, ?)', ('Суклин Л.Л.', 'ИСП-23', 2, 'ИСП', 2007))
cursor.execute('INSERT INTO Студенты (ФИО, группа, курс, специальность, год_рождения) VALUES (?, ?, ?, ?, ?)', ('Фолисев Д.Д.', 'ИСП-23', 2, 'ИСП', 2008))
cursor.execute('INSERT INTO Студенты (ФИО, группа, курс, специальность, год_рождения) VALUES (?, ?, ?, ?, ?)', ('Шукшин Ф.Ф.', 'ИСП-23', 2, 'ИСП', 2009))
cursor.execute('INSERT INTO Студенты (ФИО, группа, курс, специальность, год_рождения) VALUES (?, ?, ?, ?, ?)', ('Шкляев Х.У.', 'ИСП-23', 2, 'ИСП', 2010))

# Самый старый студент
cursor.execute('SELECT ФИО,группа, курс, специальность, год_рождения FROM Студенты ORDER BY год_рождения ASC LIMIT 1')
oldest = cursor.fetchone()

# Самый молодой студент
cursor.execute('SELECT ФИО, группа, курс, специальность, год_рождения FROM Студенты ORDER BY год_рождения DESC LIMIT 1')
youngest = cursor.fetchone()

if oldest:
    print('Самый старый', oldest[0], 'год рождения', oldest[1])
else:
    print('Самый старый N/A')


print('Преподаватели:')
cursor.execute('SELECT * FROM Преподаватели')
teachers = cursor.fetchall()
for tea in teachers:
    print(*tea)
print('Студенты:')
cursor.execute('SELECT * FROM Студенты')
Studs = cursor.fetchall()
for i in Studs:
    print(*i)

connection.commit()
connection.close()
